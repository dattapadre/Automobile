<%- include('navbar.ejs') %>

<style>
  body {
    background-color: #f8f9fa;
  }
  .table img {
    width: 60px;
    height: 60px;
    object-fit: cover;
    border-radius: 8px;
  }
  .badge-pending {
    background-color: #ffc107;
  }
  .badge-paid {
    background-color: #198754;
  }
  .table-wrapper {
    background: #fff;
    padding: 30px;
    border-radius: 10px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
  }
</style>

<div class="container py-5">
  <div class="table-wrapper">
    <h2 class="mb-4 text-center">Order Details</h2>
    <div class="table-responsive">
      <table class="table table-bordered table-hover align-middle text-center">
        <thead class="table-dark">
          <tr>
            <th>Image</th>
            <th>Name</th>
            <th>Type</th>
            <th>Price (₹)</th>
            <th>Date</th>
            <th>Qty</th>
            <th>Table No</th>
            <th>Total (₹)</th>
            <th>Status</th>
          </tr>
        </thead>
        <tbody>
          <% list.forEach((item) => { %>
            <tr>
              <td><img src="/images/<%= item.menu_image %>" alt="item image"></td>
              <td><%= item.menu_name %></td>
              <td><%= item.type_name %></td>
              <td><%= item.menu_price %></td>
              <td><%= item.order_date ? item.order_date.toISOString().split('T')[0] : '' %></td>
              <td><%= item.quantity %></td>
              <td><%= item.table_id %></td>
              <td><%= item.quantity * item.menu_price %></td>
              <td>
                <% if (item.status === 'Pending') { %>
                  <span class="badge badge-pending bg-danger">Pending</span>
                <% } else if (item.status === 'Paid') { %>
                  <span class=" badge badge-paid">Paid</span>
                <% } else { %>
                  <span class="badge bg-secondary"><%= item.status %></span>
                <% } %>
              </td>
            </tr>
          <% }); %>
        </tbody>
      </table>
    </div>
  </div>
</div>

<%- include('footer.ejs') %>
